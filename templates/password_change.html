<!DOCTYPE html>
<html>
<head>
    <title>Update Password</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <meta name="csrf-token" content="{{ csrf_token() }}">
</head>
<body>
    <div class="login-container">
        <h2>Update Password</h2>
        <form method="POST" action="/password_change?token={{ token }}">
            <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
            <input type="hidden" name="username" value="{{ username }}">
            <input type="password" name="old-password" class="password-field" placeholder="Old Password" required autofocus>
            <input type="password" name="new-password" id="reg-password" class="password-field" placeholder="New Password" required>
            <input type="password" name="confirm-password" id="reg-confirmpwd" class="password-field" placeholder="Confirm Password" required>
            <input type="checkbox" onclick="showPassword()">Show Passwords
            <div class="pwd-reqs">
                <span id="req-length">Minimum 8 characters</span><br>
                <span id="req-upper">Minimum 1 uppercase</span><br>
                <span id="req-lower">Minimum 1 lowercase</span><br>
                <span id="req-number">Minimum 1 number</span><br>
                <span id="req-special">Minimum 1 special character</span><br>
                <span id="req-match">Passwords must match</span><br>
            </div><br>
            <button type="submit">Change Password</button>
        </form>
        {% if error %}
            <div class="failure-message">{{ error }}</div>
        {% endif %}
    </div>
    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>